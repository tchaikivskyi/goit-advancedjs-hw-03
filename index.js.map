{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/tost.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport const fetchPhotosByQuery = async searchedQuery => {\n  const requestParams = {\n    key: import.meta.env.VITE_PIXABAY_API,\n    image_type: 'photo',\n    per_page: 40,\n    safesearch: true,\n    orientation: 'horizontal',\n    q: searchedQuery,\n  };\n\n  try {\n    const response = await axios.get('https://pixabay.com/api/', {\n      params: requestParams,\n    });\n    return response.data;\n  } catch (error) {\n    throw new Error(\n      `HTTP error! ${error.response?.status || ''} ${error.message}`\n    );\n  }\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n  gallery: document.querySelector('.gallery'),\n};\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  captionPosition: 'bottom',\n  doubleTapZoom: 1,\n  maxZoom: 1,\n  fadeSpeed: 250,\n  widthRatio: 0.85,\n});\n\nexport const clearGallery = () => {\n  refs.gallery.innerHTML = '';\n};\n\nexport const renderGallery = hits => {\n  const markup = hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n        <li class=\"card\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n            <div class=\"stats\">\n              <div><span>${likes}</span> Likes</div>\n              <div><span>${views}</span> Views</div>\n              <div><span>${comments}</span> Comments</div>\n              <div><span>${downloads}</span> Downloads</div>\n            </div>\n          </a>\n        </li>\n      `\n    )\n    .join('');\n\n  refs.gallery.innerHTML = markup;\n  lightbox.refresh();\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport const errorTost = msg => {\n  return iziToast.error({\n    title: 'Error',\n    message: msg,\n    position: 'topRight',\n  });\n};\n\nexport const infoTost = msg => {\n  return iziToast.info({\n    title: 'Info',\n    message: msg,\n    position: 'topRight',\n  });\n};\n","import { fetchPhotosByQuery } from './js/pixabay-api';\nimport { renderGallery, clearGallery } from './js/render-functions';\nimport { errorTost, infoTost } from './js/tost';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  loader: document.querySelector('.loader'),\n};\n\nconst onSearchFormSubmit = async event => {\n  event.preventDefault();\n  const searchedQuery = event.target.elements.search.value.trim();\n\n  if (!searchedQuery) {\n    infoTost('Input please any word!');\n    return;\n  }\n\n  refs.loader.classList.add('active');\n  clearGallery();\n\n  try {\n    const data = await fetchPhotosByQuery(searchedQuery);\n\n    if (data.totalHits === 0) {\n      errorTost(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n      return;\n    }\n\n    renderGallery(data.hits);\n  } catch (err) {\n    errorTost('Error fetching photos. Try again!');\n  } finally {\n    refs.loader.classList.remove('active');\n  }\n};\n\nrefs.form.addEventListener('submit', onSearchFormSubmit);\n"],"names":["fetchPhotosByQuery","searchedQuery","requestParams","axios","error","_a","refs","lightbox","SimpleLightbox","clearGallery","renderGallery","hits","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","errorTost","msg","iziToast","infoTost","onSearchFormSubmit","event","data"],"mappings":"owBAEa,MAAAA,EAAqB,MAAMC,GAAiB,OACvD,MAAMC,EAAgB,CACpB,IAAK,qCACL,WAAY,QACZ,SAAU,GACV,WAAY,GACZ,YAAa,aACb,EAAGD,CAAA,EAGD,GAAA,CAIF,OAHiB,MAAME,EAAM,IAAI,2BAA4B,CAC3D,OAAQD,CAAA,CACT,GACe,WACTE,EAAO,CACd,MAAM,IAAI,MACR,iBAAeC,EAAAD,EAAM,WAAN,YAAAC,EAAgB,SAAU,EAAE,IAAID,EAAM,OAAO,EAAA,CAEhE,CACF,ECnBME,EAAO,CACX,QAAS,SAAS,cAAc,UAAU,CAC5C,EAEMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,gBAAiB,SACjB,cAAe,EACf,QAAS,EACT,UAAW,IACX,WAAY,GACd,CAAC,EAEYC,EAAe,IAAM,CAChCH,EAAK,QAAQ,UAAY,EAC3B,EAEaI,EAAgBC,GAAQ,CACnC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,0CAE8BL,CAAa;AAAA,wBAC/BD,CAAY,UAAUE,CAAI;AAAA;AAAA,2BAEvBC,CAAK;AAAA,2BACLC,CAAK;AAAA,2BACLC,CAAQ;AAAA,2BACRC,CAAS;AAAA;AAAA;AAAA;AAAA,OAK/B,EACA,KAAK,EAAE,EAEVb,EAAK,QAAQ,UAAYM,EACzBL,EAAS,QAAO,CAClB,EC/Caa,EAAYC,GAChBC,EAAS,MAAM,CACpB,MAAO,QACP,QAASD,EACT,SAAU,UACd,CAAG,EAGUE,EAAWF,GACfC,EAAS,KAAK,CACnB,MAAO,OACP,QAASD,EACT,SAAU,UACd,CAAG,ECZGf,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEMkB,EAAqB,MAAMC,GAAS,CACxCA,EAAM,eAAc,EACpB,MAAMxB,EAAgBwB,EAAM,OAAO,SAAS,OAAO,MAAM,OAEzD,GAAI,CAACxB,EAAe,CAClBsB,EAAS,wBAAwB,EACjC,MACD,CAEDjB,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCG,IAEA,GAAI,CACF,MAAMiB,EAAO,MAAM1B,EAAmBC,CAAa,EAEnD,GAAIyB,EAAK,YAAc,EAAG,CACxBN,EACE,0EACR,EACM,MACD,CAEDV,EAAcgB,EAAK,IAAI,CACxB,MAAa,CACZN,EAAU,mCAAmC,CACjD,QAAY,CACRd,EAAK,OAAO,UAAU,OAAO,QAAQ,CACtC,CACH,EAEAA,EAAK,KAAK,iBAAiB,SAAUkB,CAAkB"}