{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/tost.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport const fetchPhotosByQuery = async searchedQuery => {\n  const requestParams = {\n    key: import.meta.env.VITE_PIXABAY_API,\n    image_type: 'photo',\n    per_page: 40,\n    safesearch: true,\n    orientation: 'horizontal',\n    q: searchedQuery,\n  };\n\n  try {\n    const response = await axios.get('https://pixabay.com/api/', {\n      params: requestParams,\n    });\n    return response.data;\n  } catch (error) {\n    throw new Error(\n      `HTTP error! ${error.response?.status || ''} ${error.message}`\n    );\n  }\n};\n","export const createGalleryCardTemplate = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  return `\n    <li class=\"card\">\n     <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n        <div class=\"stats\">\n          <div><span>${likes}</span> Likes</div>\n          <div><span>${views}</span> Views</div>\n          <div><span>${comments}</span> Comments</div>\n          <div><span>${downloads}</span> Downloads</div>\n        </div>\n      </a>\n    </li>\n  `;\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport const errorTost = msg => {\n  return iziToast.error({\n    title: 'Error',\n    message: msg,\n    position: 'topRight',\n  });\n};\n\nexport const infoTost = msg => {\n  return iziToast.info({\n    title: 'Info',\n    message: msg,\n    position: 'topRight',\n  });\n};\n","import { fetchPhotosByQuery } from './js/pixabay-api';\nimport { createGalleryCardTemplate } from './js/render-functions';\nimport { errorTost, infoTost } from './js/tost';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  loader: document.querySelector('.loader'),\n  gallery: document.querySelector('.gallery'),\n};\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  captionPosition: 'bottom',\n  doubleTapZoom: 1,\n  maxZoom: 1,\n  fadeSpeed: 250,\n  widthRatio: 0.85,\n});\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n  const searchedQuery = event.target.elements.search.value.trim();\n\n  if (!searchedQuery) {\n    infoTost('Input please any word!');\n    return;\n  }\n\n  refs.loader.classList.add('active');\n  refs.gallery.innerHTML = '';\n\n  fetchPhotosByQuery(searchedQuery)\n    .then(data => {\n      if (data.totalHits === 0) {\n        errorTost(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n        return;\n      }\n\n      const galleryCardsTemplate = data.hits\n        .map(pictureInfo => createGalleryCardTemplate(pictureInfo))\n        .join('');\n\n      refs.gallery.innerHTML = galleryCardsTemplate;\n      lightbox.refresh();\n    })\n    .catch(err => {\n      errorTost('Error fetching photos. Try again!');\n    })\n    .finally(() => {\n      refs.loader.classList.remove('active');\n    });\n};\n\nrefs.form.addEventListener('submit', onSearchFormSubmit);\n"],"names":["fetchPhotosByQuery","searchedQuery","requestParams","axios","error","_a","createGalleryCardTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","errorTost","msg","iziToast","infoTost","refs","lightbox","SimpleLightbox","onSearchFormSubmit","event","data","galleryCardsTemplate","pictureInfo","err"],"mappings":"owBAEa,MAAAA,EAAqB,MAAMC,GAAiB,OACvD,MAAMC,EAAgB,CACpB,IAAK,qCACL,WAAY,QACZ,SAAU,GACV,WAAY,GACZ,YAAa,aACb,EAAGD,CAAA,EAGD,GAAA,CAIF,OAHiB,MAAME,EAAM,IAAI,2BAA4B,CAC3D,OAAQD,CAAA,CACT,GACe,WACTE,EAAO,CACd,MAAM,IAAI,MACR,iBAAeC,EAAAD,EAAM,WAAN,YAAAC,EAAgB,SAAU,EAAE,IAAID,EAAM,OAAO,EAAA,CAEhE,CACF,ECtBaE,EAA4B,CAAC,CACxC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IACS;AAAA;AAAA,qCAE4BL,CAAa;AAAA,oBAC9BD,CAAY,UAAUE,CAAI;AAAA;AAAA,uBAEvBC,CAAK;AAAA,uBACLC,CAAK;AAAA,uBACLC,CAAQ;AAAA,uBACRC,CAAS;AAAA;AAAA;AAAA;AAAA,ICdnBC,EAAYC,GAChBC,EAAS,MAAM,CACpB,MAAO,QACP,QAASD,EACT,SAAU,UACd,CAAG,EAGUE,EAAWF,GACfC,EAAS,KAAK,CACnB,MAAO,OACP,QAASD,EACT,SAAU,UACd,CAAG,ECVGG,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,OAAQ,SAAS,cAAc,SAAS,EACxC,QAAS,SAAS,cAAc,UAAU,CAC5C,EAEMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,gBAAiB,SACjB,cAAe,EACf,QAAS,EACT,UAAW,IACX,WAAY,GACd,CAAC,EAEKC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EACpB,MAAMrB,EAAgBqB,EAAM,OAAO,SAAS,OAAO,MAAM,OAEzD,GAAI,CAACrB,EAAe,CAClBgB,EAAS,wBAAwB,EACjC,MACD,CAEDC,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCA,EAAK,QAAQ,UAAY,GAEzBlB,EAAmBC,CAAa,EAC7B,KAAKsB,GAAQ,CACZ,GAAIA,EAAK,YAAc,EAAG,CACxBT,EACE,0EACV,EACQ,MACD,CAED,MAAMU,EAAuBD,EAAK,KAC/B,IAAIE,GAAenB,EAA0BmB,CAAW,CAAC,EACzD,KAAK,EAAE,EAEVP,EAAK,QAAQ,UAAYM,EACzBL,EAAS,QAAO,CACtB,CAAK,EACA,MAAMO,GAAO,CACZZ,EAAU,mCAAmC,CACnD,CAAK,EACA,QAAQ,IAAM,CACbI,EAAK,OAAO,UAAU,OAAO,QAAQ,CAC3C,CAAK,CACL,EAEAA,EAAK,KAAK,iBAAiB,SAAUG,CAAkB"}